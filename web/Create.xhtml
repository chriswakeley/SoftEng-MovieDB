<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>
        <p:dialog id="MovieCreateDlg" widgetVar="MovieCreateDialog" modal="true" resizable="false" appendTo="@(body)" header="#{bundle.CreateMovieTitle}">
            
            <h:form id="MovieCreateForm" class="ui-datatable-data">
                
                <h:panelGroup id="display">
                    <p:panelGrid columns="2" columnClasses="columnOne, columnTwo" rendered="#{movieController.selected != null}">
                        
                        <!-- No need for the user to be concerned about the database Primary Key id,
                        which is auto-generated on the server side.
                        
                        <p:outputLabel value="#{bundle.CreateMovieLabel_id}" for="id" />
                        <p:inputText id="id" value="#{movieController.selected.id}" 
                        title="#{bundle.CreateMovieTitle_id}" required="true" 
                        requiredMessage="#{bundle.CreateMovieRequiredMessage_id}"/>
                        -->
                        
                        <!--
                        Any Expression Language (EL) expression referring to "bundle" is intended for Internationalization.
                        The Bundle.properties file in the <default package> defines the character strings in English language.
                        You can create another Bundle.properties file in another language (e.g., French, German) and give
                        the option to the user to select the desired language. Based on the selected language, the corresponding
                        Bundle.properties file will be used and your application UI elements will be displayed in that language.
                        -->
                        <p:outputLabel value="#{bundle.CreateMovieLabel_title}" for="title" />
                        <p:inputText id="title" class="dataFields" value="#{movieController.selected.title}" 
                                     title="#{bundle.CreateMovieTitle_title}" required="true" 
                                     requiredMessage="#{bundle.CreateMovieRequiredMessage_title}"/>

                        <p:outputLabel value="#{bundle.CreateMovieLabel_genres}" for="genres" />
                        <p:inputText id="genres" class="dataFields" value="#{movieController.selected.genres}" 
                                     title="#{bundle.CreateMovieTitle_genres}" required="true" 
                                     requiredMessage="#{bundle.CreateMovieRequiredMessage_genres}"/>

                        <p:outputLabel value="#{bundle.CreateMovieLabel_releaseDate}" for="releaseDate" />
                        <p:calendar id="releaseDate" class="dataFields" pattern="MM/dd/yyyy" value="#{movieController.selected.releaseDate}" 
                                    title="#{bundle.EditMovieTitle_releaseDate}" required="true" 
                                    requiredMessage="#{bundle.EditMovieRequiredMessage_releaseDate}" showOn="button"/>

                        <p:outputLabel value="#{bundle.CreateMovieLabel_director}" for="director" />
                        <p:inputText id="director" class="dataFields" value="#{movieController.selected.director}" 
                                     title="#{bundle.CreateMovieTitle_director}" required="true" 
                                     requiredMessage="#{bundle.CreateMovieRequiredMessage_director}"/>

                        <p:outputLabel value="#{bundle.CreateMovieLabel_stars}" for="stars" />
                        <p:inputText id="stars" class="dataFields" value="#{movieController.selected.stars}" 
                                     title="#{bundle.CreateMovieTitle_stars}" required="true" 
                                     requiredMessage="#{bundle.CreateMovieRequiredMessage_stars}"/>

                        <p:outputLabel value="#{bundle.CreateMovieLabel_filmRating}" for="filmRating" />
                        <p:inputText id="filmRating" class="dataFields" value="#{movieController.selected.filmRating}" 
                                     title="#{bundle.CreateMovieTitle_filmRating}" required="true" 
                                     requiredMessage="#{bundle.CreateMovieRequiredMessage_filmRating}"/>

                        <p:outputLabel value="#{bundle.CreateMovieLabel_percentLiked}" for="percentLiked" />
                        <p:inputText id="percentLiked" class="dataFields" value="#{movieController.selected.percentLiked}" 
                                     title="#{bundle.CreateMovieTitle_percentLiked}" 
                                     required="true" requiredMessage="#{bundle.CreateMovieRequiredMessage_percentLiked}"/>
                    </p:panelGrid>
                </h:panelGroup>
                
                <h:panelGroup>
                    <p:spacer height="10"/>
                    <div align="center">
                        <!-- SAVE button -->
                        <p:commandButton actionListener="#{movieController.create}" value="#{bundle.Save}" 
                                         styleClass="commandButton" icon="ui-icon-disk" ajax="false"
                                         update="display,:MovieListForm:datalist,:growl" 
                                         oncomplete="handleSubmit(args,'MovieCreateDialog');" />
                        &nbsp;
                        <!-- CANCEL button -->
                        <p:commandButton value="#{bundle.Cancel}" onclick="PF('MovieCreateDialog').hide()" 
                                         styleClass="commandButton" icon="ui-icon-cancel"/>
                    </div>
                </h:panelGroup>

            </h:form>
            
        </p:dialog>
    </ui:composition>
</html>
